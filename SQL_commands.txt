
  CREATE TABLE DETAILS 
   (	DETAIL_ID NUMBER NOT NULL , 
	DETAIL_NAME NVARCHAR2(200) NOT NULL , 
	 CONSTRAINT DETAILS_PK PRIMARY KEY (DETAIL_ID)
   )

  CREATE OR REPLACE TRIGGER DETAILS_TRIGGER1 
  BEFORE INSERT ON DETAILS
FOR EACH ROW
BEGIN
	SELECT DETAIL_ID_SEQUENCE.NEXTVAL
	INTO :NEW.DETAIL_ID
	FROM DUAL;
END;
/


  CREATE TABLE INVOICE_ITEMS 
   (	INVOICE_ID NUMBER NOT NULL , 
	PRODUCT_ID NUMBER NOT NULL , 
	PRODUCT_QUANTITY NUMBER NOT NULL , 
	KEY NUMBER NOT NULL , 
	 CONSTRAINT INVOICE_ITEMS_PK PRIMARY KEY (KEY),
	 CONSTRAINT INVOICE_FK FOREIGN KEY (INVOICE_ID)
	  REFERENCES INVOICES (INVOICE_ID) , 
	 CONSTRAINT PRODUCT_FK FOREIGN KEY (PRODUCT_ID)
	  REFERENCES PRODUCTS (PRODUCT_ID) 
   )

  CREATE OR REPLACE TRIGGER INVOICE_ITEMS_TRIGGER1 
BEFORE INSERT ON INVOICE_ITEMS
FOR EACH ROW
BEGIN
	SELECT INVOICE_ITEM_SEQUENCE.NEXTVAL
	INTO :NEW.KEY
	FROM DUAL;
END;
/



  CREATE TABLE INVOICES 
   (	INVOICE_ID NUMBER NOT NULL , 
	INVOICE_DATE DATE NOT NULL , 
	PURCHASER NVARCHAR2(200) NOT NULL , 
	 CONSTRAINT INVOICES_PK PRIMARY KEY (INVOICE_ID)
   ) 

  CREATE OR REPLACE TRIGGER INVOICES_TRIGGER1 
BEFORE INSERT ON INVOICES
FOR EACH ROW
BEGIN
	SELECT INVOICE_ID_SEQUENCE.NEXTVAL
	INTO :NEW.INVOICE_ID
	FROM DUAL;
END;
/

  CREATE TABLE PROD_SPECIFICATION 
   (	DETAIL_ID NUMBER NOT NULL , 
	PRODUCT_ID NUMBER NOT NULL , 
	DETAIL_QUANTITY NUMBER NOT NULL , 
	 CONSTRAINT SPEC_PROD_FK FOREIGN KEY (PRODUCT_ID)
	  REFERENCES PRODUCTS (PRODUCT_ID) , 
	 CONSTRAINT SPEC_DETAIL_FK FOREIGN KEY (DETAIL_ID)
	  REFERENCES DETAILS (DETAIL_ID) 
   ) 



  CREATE TABLE PRODUCTS 
   (	PRODUCT_ID NUMBER NOT NULL , 
	PRODUCT_NAME NVARCHAR2(200) NOT NULL , 
	 CONSTRAINT PRODUCTS_PK PRIMARY KEY (PRODUCT_ID)
   )

  CREATE OR REPLACETRIGGER PRODUCTS_TRIGGER1 
BEFORE INSERT ON PRODUCTS
FOR EACH ROW
BEGIN
	SELECT PRODUCT_ID_SEQUENCE.NEXTVAL
	INTO :NEW.PRODUCT_ID
	FROM DUAL;
END;
/



  CREATE TABLE STOCK 
   (	DETAIL_ID NUMBER NOT NULL , 
	DETAIL_NAME NVARCHAR2(200) NOT NULL , 
	QUANTITY NUMBER NOT NULL , 
	 CONSTRAINT STOCK_PK PRIMARY KEY (DETAIL_ID), 
	 CONSTRAINT STOCK_DETAIL_FK FOREIGN KEY (DETAIL_ID)
	  REFERENCES DETAILS (DETAIL_ID) 
   

